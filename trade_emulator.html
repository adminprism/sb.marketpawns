<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <!-- <script src='js/moving_box_css.js'></script> -->
    <link rel="stylesheet" href="css/style.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script>
        //—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        url_="calc_setups.php" // –∏–º—è PHP —Ñ–∞–π–ª–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –ª–µ—Ç—è—Ç AJAX –∑–∞–ø—Ä–æ—Å—ã - –æ–Ω –≤–Ω–∞—á–∞–ª–µ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Ç–∞–ø–æ–≤, –∞ –ø–æ—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–º—É–ª—è—Ü–∏–∏ –ø–æ –Ω—É–∂–Ω—ã–º
        ver = "1.0";
    </script>
    <title>Trade emulator (ver. 2022-08-02) </title>
</head>

<body>
    <div class="window">
        <div id="trade_title" >
            <p id="title_label" oncontextmenu=debug_on_off(event) >Trade Emulator for Configured Setups:&nbsp&nbsp&nbsp</p>
            <p id="status_label" >Status:</p>
            <p id="progress_info">START</p>
        </div>
        <div style="margin: 8px 0;">
            <a href="index.php" class="file_link" style="margin-right:8px;">‚üµ Back to Main</a>
            <button onclick="location.reload()" style="margin-right:8px;">Refresh List (LIST)</button>
            <button onclick="showProgress(true)" style="margin-right:8px;">Show Status (PROGRESS)</button>
            <button onclick="calculatePlease()" style="margin-right:8px;">Start Calculation (CALC)</button>
            <button onclick="toggleReportsViewer()" style="margin-right:8px;">üìä View Reports</button>
            <button onclick="debug_on_off(event)" style="margin-right:8px;">Debug</button>
            <a href="developmentlog/TRADE_EMULATOR_USER_GUIDE.md" target="_blank" class="file_link">Help</a>
        </div>
        <hr />
        <div id="setup_selection">
            <div id="setup_selection_window">
            <p> Select required setups from those defined in PHP</p>
                <button onclick="selectSetups(1)">Select All</button>
                <button onclick="selectSetups(0)">Unselect All</button>
                <a>Choose instrument: </a>
                <select id="select-name" name="name" size="1">
                    <option value="--- ALL ---" selected>--- ALL ---</option>
                </select>
            <hr>
            <div id="setup_selection_list"> <!-- –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ç–∞–ø–æ–≤ -->
            </div>
            <hr>
            <button onclick="calculatePlease()">Execute Trade Emulation for Selected Setups</button>
            </div>

            <div id="setup_selection_info"> <!-- –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–µ—Ç–∞–ø–∞ -->

            </div>
        </div>
        <hr />

    </div>
    <div id="trade_emulator_errors">
        errors
    </div>
    <div id="report_files">

    </div>
    
    <!-- Reports Viewer Section -->
    <div id="reports_viewer" style="margin-top: 20px; display: none;">
        <h3>üìä Reports Viewer</h3>
        <div style="margin-bottom: 10px;">
            <button onclick="loadReportSessions()">üîÑ Refresh Sessions</button>
            <button onclick="toggleReportsViewer()">‚ùå Close Viewer</button>
        </div>
        
        <div id="sessions_list" style="margin-bottom: 15px;">
            <h4>Available Sessions:</h4>
            <div id="sessions_container"></div>
        </div>
        
        <div id="session_details" style="display: none;">
            <h4 id="session_title">Session Details</h4>
            <div id="session_summary" style="margin-bottom: 15px;"></div>
            <div id="reports_list"></div>
        </div>
        
        <div id="report_details" style="display: none;">
            <h4 id="report_title">Report Details</h4>
            <div style="margin-bottom: 10px;">
                <button onclick="showSessionDetails()">‚¨Ö Back to Session</button>
                <button onclick="exportReportData()" id="export_btn">üíæ Export Data</button>
            </div>
            <div id="report_content"></div>
        </div>
    </div>
    <div id="debug">
        debug
    </div>

    <div class="parent_wait parent_wait_setups">
        <div class="block_wait">
            <p id="loader-text">0.0</p>
        </div>
    </div>
    <div class="show_graph" onclick=showGraph_close()>

    </div>


    <script src="js/functions.js"></script>
    <script src="js/trade_emulator.js"></script>
    <script src="js/reports_viewer.js"></script>

</body>

</html>